# .github/workflows/main.yml
# 이 파일은 GitHub Actions에서 사용되는 워크플로우 파일입니다.
# 워크플로우는 코드를 푸시하거나 특정 이벤트가 발생할 때 실행됩니다.

name: CI Pipeline # 워크플로우의 이름입니다. GitHub Actions의 실행 로그에서 이 이름으로 표시됩니다.

on:
  push: # 이벤트 (Event): 워크플로우를 실행시키는 트리거입니다.
    branches: # 어떤 브랜치에 푸시할 때 실행할지 정의합니다.
      - main # main 브랜치에 푸시할 때 워크플로우 실행

jobs: # 잡 (Jobs): 워크플로우에서 실행되는 작업 단위입니다.
  jeff-build: # 잡 이름. 자유롭게 설정할 수 있습니다.
    runs-on: ubuntu-latest # 잡이 실행될 환경을 정의합니다. (여기서는 최신 Ubuntu 환경)

    steps: # 스텝 (Steps): 잡 내에서 실행되는 세부 작업입니다.
      - name: Checkout code # 스텝 이름. GitHub Actions 로그에서 이 이름이 표시됩니다.
        uses: actions/checkout@v3
        # 액션 (Action): GitHub Actions에서 제공하는 재사용 가능한 작업입니다.
        # actions/checkout은 저장소 코드를 클론(clone)하는 액션입니다.

      - name: Set up Node.js # 스텝 이름. Node.js 환경 설정
        uses: actions/setup-node@v3
        with:
          node-version: 21 # Node.js의 버전을 지정 (21 버전 사용)

      - name: Install dependencies # 스텝 이름. 의존성 설치
        run: npm install
        # 실행 명령어 (run): 직접 명령어를 실행하는 스텝입니다.
        # 이 경우 `npm install` 명령어로 Node.js 프로젝트의 의존성을 설치합니다.

      - name: Run tests # 스텝 이름. 테스트 실행
        run: npm test
        # 실행 명령어 (run): `npm test` 명령어로 프로젝트의 테스트를 실행합니다.